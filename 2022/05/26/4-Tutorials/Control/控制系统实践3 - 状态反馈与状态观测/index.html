<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 5.4.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">

<link rel="stylesheet" href="https://fonts.loli.net/css?family=Noto Serif SC:300,300italic,400,400italic,700,700italic&display=swap&subset=latin,latin-ext">
<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">
  <link rel="stylesheet" href="/lib/pace/pace-theme-minimal.min.css">
  <script src="/lib/pace/pace.min.js"></script>
  <script>
    (function(){
        if(''){
            if (prompt('è¯·è¾“å…¥æ–‡ç« å¯†ç ') !== ''){
                alert('å¯†ç é”™è¯¯');
                history.back();
            }
        }
    })();
  </script>

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"jychennk.github.io","root":"/","scheme":"Gemini","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":false,"show_result":false,"style":null},"back2top":{"enable":true,"sidebar":false,"scrollpercent":false},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":"valine","storage":true,"lazyload":false,"nav":null,"activeClass":"valine"},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":false,"trigger":"auto","top_n_per_article":3,"unescape":false,"preload":false},"motion":{"enable":true,"async":true,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},"path":"search.xml"};
  </script>

  <meta name="description" content="ç»å…¸æ§åˆ¶åœ¨å¤„ç†SISOç³»ç»Ÿä¸Šæœ‰è¾ƒå¥½çš„æ•ˆæœï¼Œä¸ç®¡æ˜¯ç†è®ºåˆ†æå’Œè®¾è®¡æ–¹æ³•éƒ½è¾ƒä¸ºç³»ç»Ÿä¸°å¯Œã€‚ä½†å®é™…çš„æ§åˆ¶ç³»ç»Ÿå¾€å¾€ä¸æ­¢åŒ…å«å”¯ä¸€çš„è¾“å…¥è¾“å‡ºï¼Œä¾‹å¦‚ç”µæœºçš„è§’åº¦å’Œé€Ÿåº¦éƒ½è¾“ç³»ç»Ÿçš„è¾“å‡ºï¼Œè¿™æ—¶å€™ç°ä»£æ§åˆ¶ç†è®ºçš„çŠ¶æ€ç©ºé—´æ–¹æ³•å°†ä¼šå‘æŒ¥ä½œç”¨ã€‚æœ¬å°èŠ‚ä»‹ç»åŸºäºçŠ¶æ€ç©ºé—´æ¨¡å‹çš„çŠ¶æ€åé¦ˆã€LQRã€å¡å°”æ›¼æ»¤æ³¢ç­‰ã€‚">
<meta property="og:type" content="article">
<meta property="og:title" content="æ§åˆ¶ç³»ç»Ÿå®è·µ3 - çŠ¶æ€åé¦ˆä¸çŠ¶æ€è§‚æµ‹">
<meta property="og:url" content="https://jychennk.github.io/2022/05/26/4-Tutorials/Control/%E6%8E%A7%E5%88%B6%E7%B3%BB%E7%BB%9F%E5%AE%9E%E8%B7%B53%20-%20%E7%8A%B6%E6%80%81%E5%8F%8D%E9%A6%88%E4%B8%8E%E7%8A%B6%E6%80%81%E8%A7%82%E6%B5%8B/index.html">
<meta property="og:site_name" content="è¤ç«">
<meta property="og:description" content="ç»å…¸æ§åˆ¶åœ¨å¤„ç†SISOç³»ç»Ÿä¸Šæœ‰è¾ƒå¥½çš„æ•ˆæœï¼Œä¸ç®¡æ˜¯ç†è®ºåˆ†æå’Œè®¾è®¡æ–¹æ³•éƒ½è¾ƒä¸ºç³»ç»Ÿä¸°å¯Œã€‚ä½†å®é™…çš„æ§åˆ¶ç³»ç»Ÿå¾€å¾€ä¸æ­¢åŒ…å«å”¯ä¸€çš„è¾“å…¥è¾“å‡ºï¼Œä¾‹å¦‚ç”µæœºçš„è§’åº¦å’Œé€Ÿåº¦éƒ½è¾“ç³»ç»Ÿçš„è¾“å‡ºï¼Œè¿™æ—¶å€™ç°ä»£æ§åˆ¶ç†è®ºçš„çŠ¶æ€ç©ºé—´æ–¹æ³•å°†ä¼šå‘æŒ¥ä½œç”¨ã€‚æœ¬å°èŠ‚ä»‹ç»åŸºäºçŠ¶æ€ç©ºé—´æ¨¡å‹çš„çŠ¶æ€åé¦ˆã€LQRã€å¡å°”æ›¼æ»¤æ³¢ç­‰ã€‚">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://jychennk.github.io/2022/05/26/4-Tutorials/Control/%E6%8E%A7%E5%88%B6%E7%B3%BB%E7%BB%9F%E5%AE%9E%E8%B7%B53%20-%20%E7%8A%B6%E6%80%81%E5%8F%8D%E9%A6%88%E4%B8%8E%E7%8A%B6%E6%80%81%E8%A7%82%E6%B5%8B/Untitled.png">
<meta property="og:image" content="https://jychennk.github.io/2022/05/26/4-Tutorials/Control/%E6%8E%A7%E5%88%B6%E7%B3%BB%E7%BB%9F%E5%AE%9E%E8%B7%B53%20-%20%E7%8A%B6%E6%80%81%E5%8F%8D%E9%A6%88%E4%B8%8E%E7%8A%B6%E6%80%81%E8%A7%82%E6%B5%8B/Untitled%201.png">
<meta property="og:image" content="https://jychennk.github.io/2022/05/26/4-Tutorials/Control/%E6%8E%A7%E5%88%B6%E7%B3%BB%E7%BB%9F%E5%AE%9E%E8%B7%B53%20-%20%E7%8A%B6%E6%80%81%E5%8F%8D%E9%A6%88%E4%B8%8E%E7%8A%B6%E6%80%81%E8%A7%82%E6%B5%8B/Untitled%202.png">
<meta property="og:image" content="https://jychennk.github.io/2022/05/26/4-Tutorials/Control/%E6%8E%A7%E5%88%B6%E7%B3%BB%E7%BB%9F%E5%AE%9E%E8%B7%B53%20-%20%E7%8A%B6%E6%80%81%E5%8F%8D%E9%A6%88%E4%B8%8E%E7%8A%B6%E6%80%81%E8%A7%82%E6%B5%8B/Untitled%203.png">
<meta property="og:image" content="https://jychennk.github.io/2022/05/26/4-Tutorials/Control/%E6%8E%A7%E5%88%B6%E7%B3%BB%E7%BB%9F%E5%AE%9E%E8%B7%B53%20-%20%E7%8A%B6%E6%80%81%E5%8F%8D%E9%A6%88%E4%B8%8E%E7%8A%B6%E6%80%81%E8%A7%82%E6%B5%8B/Untitled%204.png">
<meta property="og:image" content="https://jychennk.github.io/2022/05/26/4-Tutorials/Control/%E6%8E%A7%E5%88%B6%E7%B3%BB%E7%BB%9F%E5%AE%9E%E8%B7%B53%20-%20%E7%8A%B6%E6%80%81%E5%8F%8D%E9%A6%88%E4%B8%8E%E7%8A%B6%E6%80%81%E8%A7%82%E6%B5%8B/Untitled%205.png">
<meta property="og:image" content="https://jychennk.github.io/2022/05/26/4-Tutorials/Control/%E6%8E%A7%E5%88%B6%E7%B3%BB%E7%BB%9F%E5%AE%9E%E8%B7%B53%20-%20%E7%8A%B6%E6%80%81%E5%8F%8D%E9%A6%88%E4%B8%8E%E7%8A%B6%E6%80%81%E8%A7%82%E6%B5%8B/WIN_20231108_21_42_05_Pro.gif">
<meta property="og:image" content="https://jychennk.github.io/2022/05/26/4-Tutorials/Control/%E6%8E%A7%E5%88%B6%E7%B3%BB%E7%BB%9F%E5%AE%9E%E8%B7%B53%20-%20%E7%8A%B6%E6%80%81%E5%8F%8D%E9%A6%88%E4%B8%8E%E7%8A%B6%E6%80%81%E8%A7%82%E6%B5%8B/Untitled%206.png">
<meta property="article:published_time" content="2022-05-25T16:00:08.000Z">
<meta property="article:modified_time" content="2023-11-09T05:15:49.061Z">
<meta property="article:author" content="Jayren Chen">
<meta property="article:tag" content="Control">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://jychennk.github.io/2022/05/26/4-Tutorials/Control/%E6%8E%A7%E5%88%B6%E7%B3%BB%E7%BB%9F%E5%AE%9E%E8%B7%B53%20-%20%E7%8A%B6%E6%80%81%E5%8F%8D%E9%A6%88%E4%B8%8E%E7%8A%B6%E6%80%81%E8%A7%82%E6%B5%8B/Untitled.png">

<link rel="canonical" href="https://jychennk.github.io/2022/05/26/4-Tutorials/Control/%E6%8E%A7%E5%88%B6%E7%B3%BB%E7%BB%9F%E5%AE%9E%E8%B7%B53%20-%20%E7%8A%B6%E6%80%81%E5%8F%8D%E9%A6%88%E4%B8%8E%E7%8A%B6%E6%80%81%E8%A7%82%E6%B5%8B/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : false,
    isPost : true,
    lang   : 'zh-CN'
  };
</script>

  <title>æ§åˆ¶ç³»ç»Ÿå®è·µ3 - çŠ¶æ€åé¦ˆä¸çŠ¶æ€è§‚æµ‹ | è¤ç«</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="åˆ‡æ¢å¯¼èˆªæ ">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">è¤ç«</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
      <p class="site-subtitle" itemprop="description">æœ‰ä¸€ä»½çƒ­ï¼Œå‘ä¸€åˆ†å…‰</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>é¦–é¡µ</a>

  </li>
        <li class="menu-item menu-item-about">

    <a href="/about/" rel="section"><i class="fa fa-user fa-fw"></i>å…³äº</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>å½’æ¡£</a>

  </li>
        <li class="menu-item menu-item-tutorials">

    <a href="/categories/tutorials/" rel="section"><i class="fa fa-wrench fa-fw"></i>æ•™ç¨‹</a>

  </li>
        <li class="menu-item menu-item-develop">

    <a href="/categories/develop/" rel="section"><i class="fa fa-rocket fa-fw"></i>å¼€å‘</a>

  </li>
        <li class="menu-item menu-item-exoskeleton">

    <a href="/categories/exoskeleton/" rel="section"><i class="fa fa-university fa-fw"></i>å¤–éª¨éª¼</a>

  </li>
        <li class="menu-item menu-item-biomechanics">

    <a href="/categories/biomechanics/" rel="section"><i class="fa fa-child fa-fw"></i>ç”Ÿç‰©åŠ›å­¦</a>

  </li>
        <li class="menu-item menu-item-course">

    <a href="/categories/course/" rel="section"><i class="fa fa-bookmark fa-fw"></i>ä¸“ä¸šè¯¾ç¨‹</a>

  </li>
        <li class="menu-item menu-item-guestbook">

    <a href="/guestbook/" rel="section"><i class="fa fa-book fa-fw"></i>ç•™è¨€æ¿</a>

  </li>
  </ul>
</nav>




</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>
  <div class="reading-progress-bar"></div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content post posts-expand">
            

    
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://jychennk.github.io/2022/05/26/4-Tutorials/Control/%E6%8E%A7%E5%88%B6%E7%B3%BB%E7%BB%9F%E5%AE%9E%E8%B7%B53%20-%20%E7%8A%B6%E6%80%81%E5%8F%8D%E9%A6%88%E4%B8%8E%E7%8A%B6%E6%80%81%E8%A7%82%E6%B5%8B/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.jpg">
      <meta itemprop="name" content="Jayren Chen">
      <meta itemprop="description" content="Life becomes a lot more fun when you know that it is meaningless.">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="è¤ç«">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          æ§åˆ¶ç³»ç»Ÿå®è·µ3 - çŠ¶æ€åé¦ˆä¸çŠ¶æ€è§‚æµ‹
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">å‘è¡¨äº</span>

              <time title="åˆ›å»ºæ—¶é—´ï¼š2022-05-26 00:00:08" itemprop="dateCreated datePublished" datetime="2022-05-26T00:00:08+08:00">2022-05-26</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">æ›´æ–°äº</span>
                <time title="ä¿®æ”¹æ—¶é—´ï¼š2023-11-09 13:15:49" itemprop="dateModified" datetime="2023-11-09T13:15:49+08:00">2023-11-09</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">åˆ†ç±»äº</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/tutorials/" itemprop="url" rel="index"><span itemprop="name">tutorials</span></a>
                </span>
            </span>

          
            <span id="/2022/05/26/4-Tutorials/Control/%E6%8E%A7%E5%88%B6%E7%B3%BB%E7%BB%9F%E5%AE%9E%E8%B7%B53%20-%20%E7%8A%B6%E6%80%81%E5%8F%8D%E9%A6%88%E4%B8%8E%E7%8A%B6%E6%80%81%E8%A7%82%E6%B5%8B/" class="post-meta-item leancloud_visitors" data-flag-title="æ§åˆ¶ç³»ç»Ÿå®è·µ3 - çŠ¶æ€åé¦ˆä¸çŠ¶æ€è§‚æµ‹" title="é˜…è¯»æ¬¡æ•°">
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              <span class="post-meta-item-text">é˜…è¯»æ¬¡æ•°ï¼š</span>
              <span class="leancloud-visitors-count"></span>
            </span>
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Valineï¼š</span>
    
    <a title="valine" href="/2022/05/26/4-Tutorials/Control/%E6%8E%A7%E5%88%B6%E7%B3%BB%E7%BB%9F%E5%AE%9E%E8%B7%B53%20-%20%E7%8A%B6%E6%80%81%E5%8F%8D%E9%A6%88%E4%B8%8E%E7%8A%B6%E6%80%81%E8%A7%82%E6%B5%8B/#valine-comments" itemprop="discussionUrl">
      <span class="post-comments-count valine-comment-count" data-xid="/2022/05/26/4-Tutorials/Control/%E6%8E%A7%E5%88%B6%E7%B3%BB%E7%BB%9F%E5%AE%9E%E8%B7%B53%20-%20%E7%8A%B6%E6%80%81%E5%8F%8D%E9%A6%88%E4%B8%8E%E7%8A%B6%E6%80%81%E8%A7%82%E6%B5%8B/" itemprop="commentCount"></span>
    </a>
  </span>
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
        <p>ç»å…¸æ§åˆ¶åœ¨å¤„ç†SISOç³»ç»Ÿä¸Šæœ‰è¾ƒå¥½çš„æ•ˆæœï¼Œä¸ç®¡æ˜¯ç†è®ºåˆ†æå’Œè®¾è®¡æ–¹æ³•éƒ½è¾ƒä¸ºç³»ç»Ÿä¸°å¯Œã€‚ä½†å®é™…çš„æ§åˆ¶ç³»ç»Ÿå¾€å¾€ä¸æ­¢åŒ…å«å”¯ä¸€çš„è¾“å…¥è¾“å‡ºï¼Œä¾‹å¦‚ç”µæœºçš„è§’åº¦å’Œé€Ÿåº¦éƒ½è¾“ç³»ç»Ÿçš„è¾“å‡ºï¼Œè¿™æ—¶å€™ç°ä»£æ§åˆ¶ç†è®ºçš„çŠ¶æ€ç©ºé—´æ–¹æ³•å°†ä¼šå‘æŒ¥ä½œç”¨ã€‚æœ¬å°èŠ‚ä»‹ç»åŸºäºçŠ¶æ€ç©ºé—´æ¨¡å‹çš„çŠ¶æ€åé¦ˆã€LQRã€å¡å°”æ›¼æ»¤æ³¢ç­‰ã€‚</p>
<span id="more"></span>
<h3 id="çŠ¶æ€ç©ºé—´æ¨¡å‹ä¸çŠ¶æ€åé¦ˆ"><a href="#çŠ¶æ€ç©ºé—´æ¨¡å‹ä¸çŠ¶æ€åé¦ˆ" class="headerlink" title="çŠ¶æ€ç©ºé—´æ¨¡å‹ä¸çŠ¶æ€åé¦ˆ"></a>çŠ¶æ€ç©ºé—´æ¨¡å‹ä¸çŠ¶æ€åé¦ˆ</h3><p>è€ƒè™‘ç”µæœºçš„åŠ¨åŠ›å­¦æ¨¡å‹ï¼š</p>
<script type="math/tex; mode=display">
K_m\dot w(t)+K_fw(t)=K_ii(t)\\
\dot\theta(t)=w(t)</script><p>ä»¤çŠ¶æ€å˜é‡$x=[\theta,w]^T$ï¼Œæ§åˆ¶é‡$u=i_a$ï¼Œå¾—åˆ°å¦‚ä¸‹çŠ¶æ€ç©ºé—´æ¨¡å‹ï¼š</p>
<script type="math/tex; mode=display">
\dot x=
\begin{bmatrix}
\dot\theta\\\dot w
\end{bmatrix}=
\begin{bmatrix}
0 & 1\\ 0 & -\frac{K_f}{K_m}
\end{bmatrix}
\begin{bmatrix}
\theta\\w
\end{bmatrix}+
\begin{bmatrix}
0\\ \frac{K_i}{K_m}
\end{bmatrix}i_a=
Ax+Bu\\
y = \begin{bmatrix}
1 & 0
\end{bmatrix}\begin{bmatrix}
\theta\\w
\end{bmatrix}=Cx</script><p>åœ¨è®¾è®¡ç³»ç»Ÿçš„æ§åˆ¶å™¨ä¹‹å‰ï¼Œé¦–å…ˆè€ƒè™‘ç³»ç»Ÿçš„èƒ½æ§æ€§ï¼š</p>
<script type="math/tex; mode=display">
S=
\begin{bmatrix}
B & AB
\end{bmatrix}
=
\begin{bmatrix}
0 & \frac{K_i}{K_m}\\
\frac{K_i}{K_m} & -\frac{K_fK_i}{K_m^2}
\end{bmatrix},
\quad 
\text{rank}(S)=2</script><p>åœ¨æ­¤åŸºç¡€ä¸Šï¼Œè®¾è®¡çŠ¶æ€åé¦ˆï¼š</p>
<script type="math/tex; mode=display">
u=-Kx</script><p>åˆ™æœ‰ï¼š</p>
<script type="math/tex; mode=display">
\dot x = Ax+Bu=(A-BK)x</script><aside>
ğŸ’¡ ä¸Šé¢è®¾è®¡çš„æ§åˆ¶å™¨æ˜¯å°†ç³»ç»Ÿçš„çŠ¶æ€å˜é‡æ§åˆ¶åˆ°$\begin{bmatrix}
0 \\ 0
\end{bmatrix}$ï¼Œå¯¹äºè·Ÿè¸ªæŒ‡å®šè¾“å…¥é—®é¢˜ï¼Œä¾‹å¦‚æ§åˆ¶ç”µæœºè§’åº¦è·Ÿè¸ªæœŸæœ›è½¨è¿¹$r(t)$ï¼Œåšå¦‚ä¸‹çŠ¶æ€å˜æ¢ï¼Œåé¦ˆç³»ç»Ÿæœ‰ç›¸åŒçš„çŠ¶æ€çŸ©é˜µï¼š

$$
u=-K\left(
\begin{bmatrix}
1\\0
\end{bmatrix}r-x
\right)\\
\dot x = (A-BK)x+Bk_1r
$$

</aside>

<h3 id="æç‚¹é…ç½®"><a href="#æç‚¹é…ç½®" class="headerlink" title="æç‚¹é…ç½®"></a>æç‚¹é…ç½®</h3><p>çŠ¶æ€ç©ºé—´æ¨¡å‹è¡¨ç¤ºç³»ç»Ÿçš„å“åº”ç‰¹æ€§ä¸»è¦ç”±çŠ¶æ€çŸ©é˜µçš„æç‚¹å†³å®šï¼Œå› æ­¤å¯ä»¥é€šè¿‡é…ç½®(A-BK)çš„æç‚¹äºæœŸæœ›çš„ä½ç½®ã€‚è‹¥ç³»ç»Ÿå¯æ§ï¼Œåˆ™é€šè¿‡çŠ¶æ€åé¦ˆï¼Œå¯ä»¥å®ç°ä»»æ„é…ç½®é—­ç¯ç³»ç»Ÿæç‚¹çš„ä½ç½®ã€‚åœ¨Matlabä¸­å¯ä»¥é€šè¿‡å¦‚ä¸‹ä»£ç æ¥è®¡ç®—åé¦ˆå¢ç›ŠçŸ©é˜µï¼š</p>
<figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">A=[<span class="number">0</span>,<span class="number">1</span>;<span class="number">0</span>,<span class="number">-7.2</span>];B=[<span class="number">0</span>;<span class="number">3000</span>];</span><br><span class="line">C=[<span class="number">1</span>,<span class="number">0</span>;<span class="number">0</span>,<span class="number">1</span>];D=[<span class="number">0</span>;<span class="number">0</span>];</span><br><span class="line">ModelSS = ss(A,B,C,D);</span><br><span class="line">poles = [<span class="number">-10</span>,<span class="number">-20</span>];</span><br><span class="line">K1 = place(A,B,poles);</span><br></pre></td></tr></table></figure>
<h3 id="LQR-çº¿æ€§äºŒæ¬¡å‹è°ƒèŠ‚å™¨"><a href="#LQR-çº¿æ€§äºŒæ¬¡å‹è°ƒèŠ‚å™¨" class="headerlink" title="LQR - çº¿æ€§äºŒæ¬¡å‹è°ƒèŠ‚å™¨"></a>LQR - çº¿æ€§äºŒæ¬¡å‹è°ƒèŠ‚å™¨</h3><p>å¦ä¸€ç§è®¾è®¡åé¦ˆå¢ç›ŠçŸ©é˜µçš„æ–¹æ³•ï¼Œæ˜¯é€šè¿‡æ„é€ æ§åˆ¶ä»£ä»·å‡½æ•°ï¼Œé€šè¿‡ä¼˜åŒ–æ±‚è§£æœ€ä¼˜çš„å¢ç›ŠçŸ©é˜µã€‚åœ¨å®é™…çš„å·¥ç¨‹åº”ç”¨ä¸­ï¼Œæˆ‘ä»¬å¸Œæœ›æ§åˆ¶ç³»ç»Ÿåœ¨è·Ÿè¸ªè¯¯å·®ã€å“åº”é€Ÿåº¦ã€è¾“å…¥èƒ½è€—ç­‰å„æ–¹é¢èƒ½æœ‰ä¸€ä¸ªç»¼åˆè€ƒè™‘ï¼Œå› æ­¤æ„é€ å¦‚ä¸‹çš„ä»£ä»·å‡½æ•°ï¼ˆæŒ‡æ ‡æ³›å‡½ï¼‰ï¼š</p>
<script type="math/tex; mode=display">
J=\int_0^\infty x^TQx+u^TRu\ dt</script><p>ä»£ä»·å‡½æ•°çš„å«ä¹‰æ˜¯ï¼Œå½“ç³»ç»Ÿå­˜åœ¨ä¸€ä¸ªåˆå§‹æ‰°åŠ¨x(0)æ—¶ï¼Œå°†ç³»ç»ŸçŠ¶æ€æ§åˆ¶åˆ°åŸç‚¹è¿‡ç¨‹ä¸­ï¼ŒçŠ¶æ€è¯¯å·®å’Œæ§åˆ¶è¾“å‡ºçš„æ€»ä½“è¯„ä¼°ã€‚å…¶ä¸­Qï¼ŒRä¸ºæƒé‡çŸ©é˜µï¼Œé€šå¸¸ä½¿ç”¨å¯¹è§’é˜µï¼Œåœ¨åº”ç”¨æ—¶å¾€å¾€æ ¹æ®å·¥ç¨‹éœ€è¦å’Œè®¾è®¡ç»éªŒæ¥ç¡®å®šã€‚åœ¨Matlabä¸­å¯ä»¥é€šè¿‡å¦‚ä¸‹ä»£ç æ¥è®¡ç®—LQRæ§åˆ¶å™¨çš„åé¦ˆå¢ç›ŠçŸ©é˜µï¼š</p>
<figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">A=[<span class="number">0</span>,<span class="number">1</span>;<span class="number">0</span>,<span class="number">-7.2</span>];B=[<span class="number">0</span>;<span class="number">3000</span>];</span><br><span class="line">C=[<span class="number">1</span>,<span class="number">0</span>;<span class="number">0</span>,<span class="number">1</span>];D=[<span class="number">0</span>;<span class="number">0</span>];</span><br><span class="line">ModelSS = ss(A,B,C,D);</span><br><span class="line">Q = [<span class="number">0.01</span>,<span class="number">0</span>;<span class="number">0</span>,<span class="number">0.0001</span>]; R = <span class="number">1</span>;</span><br><span class="line">[K2,S,P] = lqr(ModelSS,Q,R);</span><br></pre></td></tr></table></figure>
<p>é€šè¿‡å¦‚ä¸‹ä»£ç å¯ä»¥å¯¹æ‰€è®¾è®¡çš„æ§åˆ¶å™¨è¿›è¡ŒéªŒè¯ï¼š</p>
<figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">CL_SS1 = ss(A-B*K1,B*K1(<span class="number">1</span>),C,D);</span><br><span class="line">CL_SS2 = ss(A-B*K2,B*K2(<span class="number">1</span>),C,D);</span><br><span class="line">linearSystemAnalyzer(CL_SS1,CL_SS2);</span><br></pre></td></tr></table></figure>
<p><img src="/2022/05/26/4-Tutorials/Control/%E6%8E%A7%E5%88%B6%E7%B3%BB%E7%BB%9F%E5%AE%9E%E8%B7%B53%20-%20%E7%8A%B6%E6%80%81%E5%8F%8D%E9%A6%88%E4%B8%8E%E7%8A%B6%E6%80%81%E8%A7%82%E6%B5%8B/Untitled.png" alt="Untitled"></p>
<h3 id="å¡å°”æ›¼æ»¤æ³¢"><a href="#å¡å°”æ›¼æ»¤æ³¢" class="headerlink" title="å¡å°”æ›¼æ»¤æ³¢"></a>å¡å°”æ›¼æ»¤æ³¢</h3><p>æ§åˆ¶å’Œè§‚æµ‹æ˜¯æ§åˆ¶ç†è®ºä¸­çš„å¯¹å¶é—®é¢˜ã€‚é™¤äº†é€šè¿‡çŠ¶æ€åé¦ˆæ„å»ºåé¦ˆæ§åˆ¶å™¨ï¼ŒçŠ¶æ€ç©ºé—´æ¨¡å‹çš„å¦ä¸€ä¸ªé‡è¦çš„åº”ç”¨æ˜¯è¿›è¡ŒçŠ¶æ€è§‚æµ‹ï¼Œå¹¶ç”±æ­¤å¼•å‡ºä¸€ç§éå¸¸é‡è¦çš„ç®—æ³•-å¡å°”æ›¼æ»¤æ³¢[1]ã€‚é‰´äºå·²ç»å­˜åœ¨çš„ä¼˜ç§€å…¥é—¨èµ„æ–™[2,3]ï¼Œæœ¬æ–‡ä¸ä¼šæ·±å…¥ä»‹ç»Kalman Filterçš„ç†è®ºæ¨å¯¼ï¼Œè€Œä»…ä»‹ç»å…¶åœ¨M3508æ§åˆ¶ä¸­çš„ä¸€äº›å…·ä½“åº”ç”¨å’ŒæŠ€å·§ã€‚</p>
<p>M3508ç”µæœºçš„åé¦ˆä¿¡å·åŒ…æ‹¬ç”µæœºçš„è§’åº¦ã€è§’é€Ÿåº¦å’Œç”µæœºç”µæµï¼Œå…¶ä¸­è§’åº¦å’Œç”µæµæ˜¯ç”±ç¼–ç å™¨å’Œç”µæµä¼ æ„Ÿå™¨ç›´æ¥æµ‹é‡å¾—åˆ°çš„ï¼Œè§’é€Ÿåº¦åˆ™æ˜¯ç”±è§’åº¦å·®åˆ†å¾—åˆ°çš„ï¼Œå‰é¢æˆ‘ä»¬åšé€Ÿåº¦æ§åˆ¶æ—¶ä¹Ÿå‘ç°ç”µæœºè½¬é€Ÿæœ‰è¾ƒå¤§çš„å™ªå£°ã€‚ç”±äºæˆ‘ä»¬èƒ½å¤Ÿæµ‹é‡åˆ°ç”µæœºçš„ç”µæµï¼Œé€šè¿‡ç”µæœºçš„åŠ¨åŠ›å­¦æ¨¡å‹æˆ‘ä»¬ä¹Ÿå¯ä»¥ä¼°è®¡ç”µæœºçš„è½¬é€Ÿï¼Œ é‚£æ˜¯ä¸æ˜¯å¯ä»¥åˆ©ç”¨æ¨¡å‹è®¡ç®—å’Œå®é™…æµ‹é‡ï¼Œæ¥å¾—åˆ°å¾—åˆ°æ›´å‡†ç¡®çš„ç”µæœºè½¬é€Ÿå‘¢ï¼Ÿ</p>
<p>é¦–å…ˆè€ƒè™‘å¦‚ä¸‹æœ€ç®€å•çš„çŠ¶æ€ç©ºé—´æ¨¡å‹ï¼š</p>
<script type="math/tex; mode=display">

x=[w(t)],\quad u=i_a(t)\\
\dot x=
\begin{bmatrix}
-\frac{K_f}{K_m}
\end{bmatrix}x+
\begin{bmatrix}
-\frac{K_i}{K_m}
\end{bmatrix}u=Ax+Bu\\
y=
\begin{bmatrix} 1 \end{bmatrix}x
=Cx</script><p>ç”±äºå¡å°”æ›¼æ»¤æ³¢ä¸€èˆ¬å¤„ç†ç¦»æ•£ç³»ç»Ÿï¼Œå› æ­¤åœ¨Matlabä¸­é€šè¿‡å¦‚ä¸‹ä»£ç å°†è¿ç»­ç³»ç»Ÿå˜æ¢ä¸ºç¦»æ•£æ¨¡å‹ï¼š</p>
<figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Ac = [<span class="number">-7.2</span>]; Bc = [<span class="number">3000</span>]; Cc = [<span class="number">1</span>]; Dc = <span class="number">0</span>;</span><br><span class="line">modelSSC = ss(Ac,Bc,Cc,Dc);</span><br><span class="line">modelSSD = c2d(modelSSC,<span class="number">0.001</span>)</span><br></pre></td></tr></table></figure>
<p>å¾—åˆ°å¦‚ä¸‹ç¦»æ•£çŠ¶æ€ç©ºé—´æ¨¡å‹ï¼š</p>
<script type="math/tex; mode=display">
x=[w(k)],\quad u=i_a(k)\\
x(k+1)=
\begin{bmatrix}
0.9928
\end{bmatrix}x(k)+
\begin{bmatrix}
2.989
\end{bmatrix}u(k)\\
y(k)=\begin{bmatrix}
1
\end{bmatrix}x(k)</script><p>ç”±äºç”µæœºè§’é€Ÿåº¦å­˜åœ¨ä¸€å®šçš„æµ‹é‡å™ªå£°ï¼Œå»ºç«‹çš„æ¨¡å‹ä¹Ÿå­˜åœ¨ä¸€å®šçš„ä¸ç¡®å®šæ€§ï¼Œå› æ­¤è€ƒè™‘å¦‚ä¸‹å…³ç³»ï¼š</p>
<script type="math/tex; mode=display">
x(k+1)=
Ax(k)+
Bu(k)+\text{w}(k)\\
y(k)=Cx(k)+\text{v}(k)</script><p>å…¶ä¸­ç¬¬ä¸€ä¸ªå¼å­çš„$\text{w}(k)$è¡¨ç¤ºæ¨¡å‹çš„è¯¯å·®ï¼Œç¬¬äºŒä¸ªå¼å­çš„$\text{v}(k)$è¡¨ç¤ºé€Ÿåº¦æµ‹é‡æ—¶çš„å™ªå£°ã€‚</p>
<p>å½“æˆ‘ä»¬å·²çŸ¥ç¬¬kä¸ªæ—¶åˆ»ç”µæœºçš„é€Ÿåº¦$x(k)$å’Œæ§åˆ¶ç”µæµ$u(k)$ï¼Œå¹¶åœ¨ç¬¬k+1ä¸ªæ—¶åˆ»æµ‹é‡åˆ°å¸¦æœ‰å™ªå£°çš„ç”µæœºè½¬é€Ÿ$y(k+1)$ï¼Œé‚£ä¹ˆå¯ä»¥æŠŠä¸¤è€…åŠ æƒå¹³å‡ï¼Œå¾—åˆ°k+1æ—¶åˆ»æ›´å‡†ç¡®çš„é€Ÿåº¦ä¼°è®¡$\hat x(k+1)=\alpha[Ax(k)+Bu(k)]+(1-\alpha)y(k+1)$ã€‚ä¸‹é¢é€šè¿‡å¡å°”æ›¼æ»¤æ³¢æ¥å®ç°è¿™ä¸€è¿‡ç¨‹ã€‚</p>
<p>çŠ¶æ€é¢„æµ‹ï¼š</p>
<script type="math/tex; mode=display">
\hat x(k+1|k)=A\hat x(k|k)+Bu(k)\\
P(k+1|k)=AP(k|k)A^T+Q</script><p>è®¡ç®—æ–°æ¯ä¸å¢ç›ŠçŸ©é˜µï¼š</p>
<script type="math/tex; mode=display">
\varepsilon(k+1)=y(k+1)-C\hat x(k+1|k)\\
K(k+1)=P(k+1|k)C^T[CP(k+1|k)C^T+R]^{-1}</script><p>çŠ¶æ€æ›´æ–°ï¼š</p>
<script type="math/tex; mode=display">
\hat x(k+1|k+1) =x(k+1|k)+K(k+1)\varepsilon(k+1)\\
P(k+1|k+1)=P(k+1|k)-K(k+1)CP(k+1|k)</script><p>åœ¨dPSACEä¸­æˆ‘ä»¬é€šè¿‡å¦‚ä¸‹ä»£ç å®ç°å¡å°”æ›¼æ»¤æ³¢ï¼š</p>
<figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">% çŠ¶æ€é¢„æµ‹</span></span><br><span class="line">X_k1k = A*X_kk + B*u;</span><br><span class="line">P_k1k = A*P_kk*A&#x27;+Q;</span><br><span class="line"><span class="comment">% è®¡ç®—æ–°æ¯</span></span><br><span class="line">e_k1 = y-C*X_k1k;</span><br><span class="line">K_k1 = (P_k1k*C&#x27;)/(C*P_k1k*C&#x27;+R);</span><br><span class="line"><span class="comment">% çŠ¶æ€æ›´æ–°</span></span><br><span class="line">P_kk = P_k1k-K_k1*C*P_kk;</span><br><span class="line">X_kk = X_k1k + K_k1*e_k1;</span><br></pre></td></tr></table></figure>
<p>å…¶ä¸­uå’Œyæ˜¯å¤–éƒ¨è¾“å…¥ï¼ŒQå’ŒRåˆ†åˆ«æ˜¯wå’Œvçš„åæ–¹å·®çŸ©é˜µ(ä¸€èˆ¬ä¸ºå¯¹è§’é˜µ)ï¼Œååº”æ¨¡å‹é¢„æµ‹çš„ä¸å‡†ç¡®åº¦å’Œè¾“å‡ºæµ‹é‡çš„å™ªå£°å¤§å°ã€‚å½“æ¨¡å‹è¶Šä¸å‡†ç¡®ï¼ŒQåº”è¯¥å–å€¼è¶Šå¤§ï¼›æµ‹é‡ä¿¡å·å™ªå£°è¶Šå¤§ï¼ŒRåº”å½“è¶Šå¤§ï¼Œè®¾è®¡åº”ç”¨æ—¶éœ€è¦æ ¹æ®ç»éªŒè¿›è¡Œè°ƒæ•´ï¼Œå¡å°”æ›¼æ»¤æ³¢çš„å®é™…æ•ˆæœå—è¿™ä¸¤ä¸ªå‚æ•°æå¤§çš„å½±å“ã€‚</p>
<p>æˆ‘ä»¬è¿˜å¯ä»¥ç›´æ¥ä½¿ç”¨Simulinkè‡ªå¸¦çš„å¡å°”æ›¼æ»¤æ³¢æ¨¡å—ï¼ŒSimulinkæä¾›äº†KFã€EKFã€UKFç­‰å¤šç§å½¢å¼çš„å¡å°”æ›¼æ»¤æ³¢å™¨ã€‚ä½†åœ¨Simulinkä»£ç ç”Ÿæˆæ—¶ï¼Œè‡ªå¸¦çš„å¡å°”æ›¼æ»¤æ³¢ä¸æ”¯æŒControlDeskåœ¨çº¿è°ƒå‚ï¼Œæ²¡æœ‰è‡ªè¡Œç¼–å†™çš„ä»£ç çµæ´»ã€‚</p>
<p><img src="/2022/05/26/4-Tutorials/Control/%E6%8E%A7%E5%88%B6%E7%B3%BB%E7%BB%9F%E5%AE%9E%E8%B7%B53%20-%20%E7%8A%B6%E6%80%81%E5%8F%8D%E9%A6%88%E4%B8%8E%E7%8A%B6%E6%80%81%E8%A7%82%E6%B5%8B/Untitled%201.png" alt="Untitled"></p>
<p><img src="/2022/05/26/4-Tutorials/Control/%E6%8E%A7%E5%88%B6%E7%B3%BB%E7%BB%9F%E5%AE%9E%E8%B7%B53%20-%20%E7%8A%B6%E6%80%81%E5%8F%8D%E9%A6%88%E4%B8%8E%E7%8A%B6%E6%80%81%E8%A7%82%E6%B5%8B/Untitled%202.png" alt="Untitled"></p>
<p><img src="/2022/05/26/4-Tutorials/Control/%E6%8E%A7%E5%88%B6%E7%B3%BB%E7%BB%9F%E5%AE%9E%E8%B7%B53%20-%20%E7%8A%B6%E6%80%81%E5%8F%8D%E9%A6%88%E4%B8%8E%E7%8A%B6%E6%80%81%E8%A7%82%E6%B5%8B/Untitled%203.png" alt="Untitled"></p>
<p>å¯ä»¥çœ‹åˆ°ç»è¿‡å¡å°”æ›¼æ»¤æ³¢åå¾—åˆ°çš„ç”µæœºé€Ÿåº¦æ›´åŠ å¹³ç¨³ï¼Œå¹¶ä¸”æ»¤æ³¢çš„æ•°æ®å¹¶æ²¡æœ‰æ˜æ˜¾çš„å»¶è¿Ÿã€‚è¿™å°±æ˜¯Kalman Filterçš„ç¬¬ä¸€ç§ç”¨æ³• - æ»¤æ³¢(åºŸè¯)ã€‚</p>
<h3 id="æ•°æ®èåˆ"><a href="#æ•°æ®èåˆ" class="headerlink" title="æ•°æ®èåˆ"></a>æ•°æ®èåˆ</h3><p>åœ¨å‰é¢çš„å®éªŒä¸­æˆ‘ä»¬å‘ç°ä¸ä»…æµ‹é‡çš„ç”µæœºé€Ÿåº¦æœ‰è¾ƒå¤§çš„å™ªå£°ï¼Œç”µæµçš„å™ªå£°ä¹Ÿè¾ƒå¤§ï¼Œè¿™æ˜¯ç”±äºç”µæµä¼ æ„Ÿå™¨æœ¬èº«çš„æµ‹é‡ç‰¹æ€§ã€‚è§‚å¯Ÿåˆ°æˆ‘ä»¬çš„æ¨¡å‹åŒæ—¶åŒ…å«ç”µæœºè½¬é€Ÿå’Œç”µæœºç”µæµï¼Œé‚£èƒ½å¦åŒæ—¶åˆ©ç”¨æµ‹é‡çš„è½¬é€Ÿå’Œç”µæµï¼Œæ¥å¾—åˆ°æ›´å‡†ç¡®çš„è¾“å‡ºï¼Ÿ</p>
<p>ä¸ºæ­¤ï¼Œæˆ‘ä»¬éœ€è¦å°†ç”µæµä¹Ÿçœ‹ä½œæ˜¯ä¸€ä¸ªçŠ¶æ€å˜é‡è€Œéæ§åˆ¶é‡ï¼Œè€ƒè™‘å¦‚ä¸‹çŠ¶æ€ç©ºé—´æ¨¡å‹ï¼š</p>
<script type="math/tex; mode=display">

x=[w(t),i_a(t)]^T\\
\dot x=
\begin{bmatrix}
\dot w \\ \dot {i_a}
\end{bmatrix}
=
\begin{bmatrix}
-\frac{K_f}{K_m} & \frac{K_i}{K_m}\\
0 & 0
\end{bmatrix}
\begin{bmatrix} 
w \\ {i_a}
\end{bmatrix}
=Ax\\
y=
\begin{bmatrix} 
1 & 0 \\ 0 & 1 
\end{bmatrix}x
=Cx</script><p>è¿™é‡Œæˆ‘ä»¬å‡è®¾$\dot{i_a}=0$ï¼Œå› ä¸ºç”µæœºç”µæµæœ¬èº«æ˜¯ä¸€ä¸ªæ§åˆ¶é‡ï¼Œç”±æˆ‘ä»¬è®¾è®¡çš„æ§åˆ¶å™¨äº§ç”Ÿï¼Œåœ¨æ²¡æœ‰å…¶ä»–ä¿¡æ¯çš„æƒ…å†µä¸‹æˆ‘ä»¬åªèƒ½å‡è®¾å…¶çŠ¶æ€ä¸å˜ï¼Œå¹¶è¢«æµ‹é‡åˆ°çš„ç»“æœæ‰€ä¿®æ­£ã€‚</p>
<p>åŒæ ·å°†ç³»ç»Ÿè½¬æ¢ä¸ºç¦»æ•£æ¨¡å‹ï¼Œä½¿ç”¨ä¸Šé¢ç›¸åŒçš„å¡å°”æ›¼æ»¤æ³¢å™¨æ¡†æ¶ï¼Œå¹¶è°ƒæ•´æ¨¡å‹å‚æ•°ã€è¾“å…¥æ•°æ®å’Œå‚æ•°çŸ©é˜µQã€Rã€‚æ³¨æ„è¿™é‡Œçš„Qå’ŒRå°†ä»å‰é¢çš„æ ‡é‡å˜ä¸ºäºŒç»´çŸ©é˜µ(ä¸€èˆ¬ä¸ºå¯¹è§’é˜µ)ã€‚</p>
<figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">% æ¨¡å‹ç¦»æ•£åŒ–</span></span><br><span class="line">Ac = [<span class="number">-7.2</span>,<span class="number">3000</span>;<span class="number">0</span>,<span class="number">0</span>]; Bc = [<span class="number">0</span>]; Cc = [<span class="number">1</span>,<span class="number">0</span>;<span class="number">0</span>,<span class="number">1</span>]; Dc = [<span class="number">0</span>];</span><br><span class="line">modelSSC = ss(Ac,Bc,Cc,Dc);</span><br><span class="line">modelSSD = c2d(modelSSC,<span class="number">0.001</span>)</span><br></pre></td></tr></table></figure>
<figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">%% kalman filter code</span></span><br><span class="line"><span class="comment">% çŠ¶æ€é¢„æµ‹</span></span><br><span class="line">X_k1k = A*X_kk;</span><br><span class="line">Y_k1 = [vel;ia];</span><br><span class="line">P_k1k = A*P_kk*A&#x27;+ <span class="built_in">diag</span>(Q);</span><br><span class="line"><span class="comment">% è®¡ç®—æ–°æ¯</span></span><br><span class="line">e_k1 = Y_k1 - C*X_k1k;</span><br><span class="line">K_k1 = (P_k1k*C&#x27;)/(C*P_k1k*C&#x27;+ <span class="built_in">diag</span>(R));</span><br><span class="line"><span class="comment">% çŠ¶æ€æ›´æ–°</span></span><br><span class="line">X_kk = X_k1k + K_k1*e_k1;</span><br><span class="line">P_kk = P_k1k-K_k1*C*P_kk;</span><br></pre></td></tr></table></figure>
<p><img src="/2022/05/26/4-Tutorials/Control/%E6%8E%A7%E5%88%B6%E7%B3%BB%E7%BB%9F%E5%AE%9E%E8%B7%B53%20-%20%E7%8A%B6%E6%80%81%E5%8F%8D%E9%A6%88%E4%B8%8E%E7%8A%B6%E6%80%81%E8%A7%82%E6%B5%8B/Untitled%204.png" alt="Untitled"></p>
<p><img src="/2022/05/26/4-Tutorials/Control/%E6%8E%A7%E5%88%B6%E7%B3%BB%E7%BB%9F%E5%AE%9E%E8%B7%B53%20-%20%E7%8A%B6%E6%80%81%E5%8F%8D%E9%A6%88%E4%B8%8E%E7%8A%B6%E6%80%81%E8%A7%82%E6%B5%8B/Untitled%205.png" alt="Untitled"></p>
<p>å¯ä»¥çœ‹å‡ºç»è¿‡å¡å°”æ›¼æ»¤æ³¢åï¼Œç”µæœºé€Ÿåº¦å’Œç”µæµçš„ä¼°è®¡æ¯”åŸå§‹æµ‹é‡çš„ç»“æœéƒ½æœ‰æ›´å°çš„å™ªå£°ã€‚åœ¨è¿™ä¸ªè¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬ç»¼åˆåˆ©ç”¨äº†å¤šç§ä¼ æ„Ÿå™¨çš„æ•°æ®æ¥å¾—åˆ°æ›´å‡†ç¡®çš„ä¼°è®¡ï¼Œè¿™ç§æ‰‹æ®µä¸€èˆ¬è¢«ç§°ä¸ºæ•°æ®èåˆï¼Œä¹Ÿæ˜¯å¡å°”æ›¼æ»¤æ³¢éå¸¸å¸¸è§çš„ä¸€ç§ç”¨æ³•ã€‚åœ¨è¿™ç¯‡åšå®¢[4]ä¸­ä»‹ç»äº†ä½¿ç”¨IMUçš„åŠ é€Ÿåº¦çš„å’Œè§’é€Ÿåº¦ä¿¡æ¯ï¼Œæ•°æ®èåˆå¾—åˆ°å§¿æ€è§’åº¦çš„æ–¹æ³•ã€‚</p>
<h3 id="çŠ¶æ€è§‚æµ‹ä¸ä¼°è®¡"><a href="#çŠ¶æ€è§‚æµ‹ä¸ä¼°è®¡" class="headerlink" title="çŠ¶æ€è§‚æµ‹ä¸ä¼°è®¡"></a>çŠ¶æ€è§‚æµ‹ä¸ä¼°è®¡</h3><p>ä¸Šé¢ä¸¤ä¸ªæ¡ˆä¾‹ä¸­ï¼Œç³»ç»Ÿçš„çŠ¶æ€éƒ½å¯ä»¥ç›´æ¥è¢«è§‚æµ‹åˆ°ï¼ˆä¹Ÿå°±æ˜¯è¢«ä¼ æ„Ÿå™¨æµ‹é‡åˆ°ï¼‰ï¼Œé€šè¿‡æ¨¡å‹æˆ–æ•°æ®èåˆå¾—åˆ°æ›´å‡†ç¡®çš„ä¼°è®¡ã€‚å½“æœ‰ä¸€äº›çŠ¶æ€æ— æ³•ç›´æ¥æµ‹é‡æ—¶ï¼Œèƒ½å¦é€šè¿‡Kalman Filterè¿›è¡Œä¼°è®¡å‘¢ï¼Ÿè€ƒè™‘å‰é¢ç”µæœºæ¨¡å‹ï¼Œç”µæœºè½¬åŠ¨æ—¶è‹¥å—åˆ°ä¸€ä¸ªå¤–åŠ›ä½œç”¨ï¼Œèƒ½å¦èƒ½æŠŠå¤–åŠ›çš„å¤§å°ä¼°è®¡å‡ºæ¥ï¼Ÿè€ƒè™‘å¦‚ä¸‹çš„åŠ¨åŠ›å­¦æ¨¡å‹ï¼Œå…¶ä¸­$\tau_{ext}$ä¸ºå¤–éƒ¨ä½œç”¨åŠ›ï¼š</p>
<script type="math/tex; mode=display">
K_m\dot w(t)+K_fw(t)=K_ii(t)+\tau_{ext}</script><p>æ„é€ å¦‚ä¸‹çš„çŠ¶æ€ç©ºé—´æ¨¡å‹ï¼š</p>
<script type="math/tex; mode=display">

x=[w(t),i_a(t),\tau_{ext}(t)]^T\\
\dot x=
\begin{bmatrix}
\dot w \\ \dot {i_a} \\ \dot \tau_{ext}
\end{bmatrix}
=
\begin{bmatrix}
-\frac{K_f}{K_m} & \frac{K_i}{K_m} & \frac{1}{K_m}\\
0 & 0 & 0\\
0 & 0 & 0
\end{bmatrix}
\begin{bmatrix} 
w \\ {i_a}
\end{bmatrix}
=Ax\\
y=
\begin{bmatrix} 
1 & 0 & 0 \\ 0 & 1 & 0
\end{bmatrix}x
=Cx</script><p>å…¶ä¸­$\tau_{ext}$ä½œä¸ºå¤–éƒ¨ä½œç”¨åŠ›ï¼ŒåŒæ ·å‡è®¾ä¸ºæ’å®šä¸å˜ã€‚å°†ç³»ç»Ÿç¦»æ•£åŒ–åï¼Œé‡‡ç”¨ç›¸åŒçš„æ–¹æ³•å®ç°å¡å°”æ›¼æ»¤æ³¢ã€‚ä¸ºæµ‹è¯•ä¼°è®¡æ•ˆæœï¼Œæˆ‘ä»¬ä¸ºç”µæœºäº§ç”Ÿä¸€ä¸ªå¤–éƒ¨è¾“å…¥ï¼š</p>
<p><img src="/2022/05/26/4-Tutorials/Control/%E6%8E%A7%E5%88%B6%E7%B3%BB%E7%BB%9F%E5%AE%9E%E8%B7%B53%20-%20%E7%8A%B6%E6%80%81%E5%8F%8D%E9%A6%88%E4%B8%8E%E7%8A%B6%E6%80%81%E8%A7%82%E6%B5%8B/WIN_20231108_21_42_05_Pro.gif" alt="WIN_20231108_21_42_05_Pro.gif"></p>
<p><img src="/2022/05/26/4-Tutorials/Control/%E6%8E%A7%E5%88%B6%E7%B3%BB%E7%BB%9F%E5%AE%9E%E8%B7%B53%20-%20%E7%8A%B6%E6%80%81%E5%8F%8D%E9%A6%88%E4%B8%8E%E7%8A%B6%E6%80%81%E8%A7%82%E6%B5%8B/Untitled%206.png" alt="Untitled"></p>
<p>èƒ½çœ‹åˆ°ç®—æ³•å®ç°äº†å¯¹å¤–éƒ¨æ‰­çŸ©çš„ä¼°è®¡ã€‚å…¶å®åœ¨å¤šæ•°æœªå®‰è£…æ‰­çŸ©ä¼ æ„Ÿå™¨çš„æœºæ¢°è‡‚ä¸­ï¼Œå°±æ˜¯é‡‡ç”¨ç±»ä¼¼çš„æ–¹æ³•å®ç°å¯¹è¾“å‡ºè½¬çŸ©çš„ä¼°è®¡ã€‚è¿™å°±æ˜¯å¡å°”æ›¼æ»¤æ³¢çš„ç¬¬ä¸‰ç§ç”¨æ³• - çŠ¶æ€è§‚æµ‹ã€‚</p>
<p><strong>Reference</strong></p>
<ol>
<li>Kalman R E. A new approach to linear filtering and prediction problems[J]. 1960.</li>
<li>Faragher R. Understanding the basis of the kalman filter via a simple and intuitive derivation [lecture notes][J]. IEEE Signal processing magazine, 2012, 29(5): 128-132.</li>
<li><a target="_blank" rel="noopener" href="https://zhuanlan.zhihu.com/p/39912633">å›¾è¯´å¡å°”æ›¼æ»¤æ³¢ï¼Œä¸€ä»½é€šä¿—æ˜“æ‡‚çš„æ•™ç¨‹ - çŸ¥ä¹ (zhihu.com)</a></li>
<li><a target="_blank" rel="noopener" href="https://www.jychen.cn/2021/03/02/5-Projects/%E5%8F%AF%E7%A9%BF%E6%88%B4%E4%BC%A0%E6%84%9F%E7%B3%BB%E7%BB%9F/2-IMU%E6%95%B0%E6%8D%AE%E8%9E%8D%E5%90%88%E4%B8%8E%E5%A7%BF%E6%80%81%E8%A7%A3%E7%AE%97/">An Introduction for IMU 2 - IMUæ•°æ®èåˆä¸å§¿æ€è§£ç®— | è¤ç« (jychen.cn)</a></li>
</ol>

    </div>

    
    
    
        

<div>
<ul class="post-copyright">
  <li class="post-copyright-author">
    <strong>æœ¬æ–‡ä½œè€…ï¼š </strong>Jayren Chen
  </li>
  <li class="post-copyright-link">
    <strong>æœ¬æ–‡é“¾æ¥ï¼š</strong>
    <a href="https://jychennk.github.io/2022/05/26/4-Tutorials/Control/%E6%8E%A7%E5%88%B6%E7%B3%BB%E7%BB%9F%E5%AE%9E%E8%B7%B53%20-%20%E7%8A%B6%E6%80%81%E5%8F%8D%E9%A6%88%E4%B8%8E%E7%8A%B6%E6%80%81%E8%A7%82%E6%B5%8B/" title="æ§åˆ¶ç³»ç»Ÿå®è·µ3 - çŠ¶æ€åé¦ˆä¸çŠ¶æ€è§‚æµ‹">https://jychennk.github.io/2022/05/26/4-Tutorials/Control/æ§åˆ¶ç³»ç»Ÿå®è·µ3 - çŠ¶æ€åé¦ˆä¸çŠ¶æ€è§‚æµ‹/</a>
  </li>
  <li class="post-copyright-license">
    <strong>ç‰ˆæƒå£°æ˜ï¼š </strong>æœ¬åšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é‡‡ç”¨ <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/zh-cn" rel="noopener" target="_blank"><i class="fab fa-fw fa-creative-commons"></i>BY-NC-SA</a> è®¸å¯åè®®ã€‚è½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼
  </li>
</ul>
</div>


      <footer class="post-footer">
          <div class="post-tags">
              <a href="/tags/Control/" rel="tag"># Control</a>
          </div>

        


        
    <div class="post-nav">
      <div class="post-nav-item">
    <a href="/2022/05/26/4-Tutorials/Control/%E6%8E%A7%E5%88%B6%E7%B3%BB%E7%BB%9F%E5%AE%9E%E8%B7%B54%20-%20%E9%9D%9E%E7%BA%BF%E6%80%A7%E6%8E%A7%E5%88%B6/" rel="prev" title="æ§åˆ¶ç³»ç»Ÿå®è·µ4 - éçº¿æ€§æ§åˆ¶">
      <i class="fa fa-chevron-left"></i> æ§åˆ¶ç³»ç»Ÿå®è·µ4 - éçº¿æ€§æ§åˆ¶
    </a></div>
      <div class="post-nav-item">
    <a href="/2022/05/26/4-Tutorials/Control/%E6%8E%A7%E5%88%B6%E7%B3%BB%E7%BB%9F%E5%AE%9E%E8%B7%B52%20-%20%E5%9F%BA%E4%BA%8E%E7%BB%8F%E5%85%B8%E6%8E%A7%E5%88%B6%E7%9A%84%E5%88%86%E6%9E%90%E8%AE%BE%E8%AE%A1%20/" rel="next" title="æ§åˆ¶ç³»ç»Ÿå®è·µ2 - åŸºäºç»å…¸æ§åˆ¶çš„åˆ†æè®¾è®¡">
      æ§åˆ¶ç³»ç»Ÿå®è·µ2 - åŸºäºç»å…¸æ§åˆ¶çš„åˆ†æè®¾è®¡ <i class="fa fa-chevron-right"></i>
    </a></div>
    </div>
      </footer>
    
  </article>
  
  
  



          </div>
          
    <div class="comments" id="valine-comments"></div>

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          æ–‡ç« ç›®å½•
        </li>
        <li class="sidebar-nav-overview">
          ç«™ç‚¹æ¦‚è§ˆ
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
          <div class="post-toc motion-element"><ol class="nav"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%8A%B6%E6%80%81%E7%A9%BA%E9%97%B4%E6%A8%A1%E5%9E%8B%E4%B8%8E%E7%8A%B6%E6%80%81%E5%8F%8D%E9%A6%88"><span class="nav-number">1.</span> <span class="nav-text">çŠ¶æ€ç©ºé—´æ¨¡å‹ä¸çŠ¶æ€åé¦ˆ</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%9E%81%E7%82%B9%E9%85%8D%E7%BD%AE"><span class="nav-number">2.</span> <span class="nav-text">æç‚¹é…ç½®</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#LQR-%E7%BA%BF%E6%80%A7%E4%BA%8C%E6%AC%A1%E5%9E%8B%E8%B0%83%E8%8A%82%E5%99%A8"><span class="nav-number">3.</span> <span class="nav-text">LQR - çº¿æ€§äºŒæ¬¡å‹è°ƒèŠ‚å™¨</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%8D%A1%E5%B0%94%E6%9B%BC%E6%BB%A4%E6%B3%A2"><span class="nav-number">4.</span> <span class="nav-text">å¡å°”æ›¼æ»¤æ³¢</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%95%B0%E6%8D%AE%E8%9E%8D%E5%90%88"><span class="nav-number">5.</span> <span class="nav-text">æ•°æ®èåˆ</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%8A%B6%E6%80%81%E8%A7%82%E6%B5%8B%E4%B8%8E%E4%BC%B0%E8%AE%A1"><span class="nav-number">6.</span> <span class="nav-text">çŠ¶æ€è§‚æµ‹ä¸ä¼°è®¡</span></a></li></ol></div>
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="Jayren Chen"
      src="/images/avatar.jpg">
  <p class="site-author-name" itemprop="name">Jayren Chen</p>
  <div class="site-description" itemprop="description">Life becomes a lot more fun when you know that it is meaningless.</div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">61</span>
          <span class="site-state-item-name">æ—¥å¿—</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
        <span class="site-state-item-count">8</span>
        <span class="site-state-item-name">åˆ†ç±»</span></a>
      </div>
      <div class="site-state-item site-state-tags">
        <span class="site-state-item-count">26</span>
        <span class="site-state-item-name">æ ‡ç­¾</span>
      </div>
  </nav>
</div>
  <div class="links-of-author motion-element">
      <span class="links-of-author-item">
        <a href="https://github.com/jychennk" title="GitHub â†’ https:&#x2F;&#x2F;github.com&#x2F;jychennk" rel="noopener" target="_blank"><i class="fab fa-github fa-fw"></i>GitHub</a>
      </span>
      <span class="links-of-author-item">
        <a href="mailto:jychen@mail.nankai.edu.cn" title="E-Mail â†’ mailto:jychen@mail.nankai.edu.cn" rel="noopener" target="_blank"><i class="fa fa-envelope fa-fw"></i>E-Mail</a>
      </span>
  </div>
  <div class="cc-license motion-element" itemprop="license">
    <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/zh-cn" class="cc-opacity" rel="noopener" target="_blank"><img src="/images/cc-by-nc-sa.svg" alt="Creative Commons"></a>
  </div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 2019 â€“ 
  <span itemprop="copyrightYear">2024</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Jayren Chen</span>
</div>

        








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/pisces.js"></script>


<script src="/js/next-boot.js"></script>




  















  

  
      

<script>
  if (typeof MathJax === 'undefined') {
    window.MathJax = {
      loader: {
          load: ['[tex]/mhchem'],
        source: {
          '[tex]/amsCd': '[tex]/amscd',
          '[tex]/AMScd': '[tex]/amscd'
        }
      },
      tex: {
        inlineMath: {'[+]': [['$', '$']]},
          packages: {'[+]': ['mhchem']},
        tags: 'ams'
      },
      options: {
        renderActions: {
          findScript: [10, doc => {
            document.querySelectorAll('script[type^="math/tex"]').forEach(node => {
              const display = !!node.type.match(/; *mode=display/);
              const math = new doc.options.MathItem(node.textContent, doc.inputJax[0], display);
              const text = document.createTextNode('');
              node.parentNode.replaceChild(text, node);
              math.start = {node: text, delim: '', n: 0};
              math.end = {node: text, delim: '', n: 0};
              doc.math.push(math);
            });
          }, '', false],
          insertedScript: [200, () => {
            document.querySelectorAll('mjx-container').forEach(node => {
              let target = node.parentNode;
              if (target.nodeName.toLowerCase() === 'li') {
                target.parentNode.classList.add('has-jax');
              }
            });
          }, '', false]
        }
      }
    };
    (function () {
      var script = document.createElement('script');
      script.src = '//cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js';
      script.defer = true;
      document.head.appendChild(script);
    })();
  } else {
    MathJax.startup.document.state(0);
    MathJax.texReset();
    MathJax.typeset();
  }
</script>

    

  


<script>
NexT.utils.loadComments(document.querySelector('#valine-comments'), () => {
  NexT.utils.getScript('//unpkg.com/valine/dist/Valine.min.js', () => {
    var GUEST = ['nick', 'mail', 'link'];
    var guest = 'nick,mail,link';
    guest = guest.split(',').filter(item => {
      return GUEST.includes(item);
    });
    new Valine({
      el         : '#valine-comments',
      verify     : false,
      notify     : false,
      appId      : 'lv9Mj3EBnaJd2OXPIPwXzU4L-gzGzoHsz',
      appKey     : '9lmT7wOl05J6beLWJKpGoq0N',
      placeholder: "Say something",
      avatar     : 'mm',
      meta       : guest,
      pageSize   : '10' || 10,
      visitor    : true,
      lang       : 'zh-cn' || 'zh-cn',
      path       : location.pathname,
      recordIP   : false,
      serverURLs : ''
    });
  }, window.Valine);
});
</script>

  

  <script async src="/js/cursor/fireworks.js"></script>

</body>
</html>
